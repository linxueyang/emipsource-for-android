Ext.applyIf(String,{Equ:function(b,a){if(Ext.isString(b)&&Ext.isString(a)){return((b||"").toLowerCase()==(a||"").toLowerCase())}else{return b==a}}});Ext.apply(Ext.Loader,{JSCache:!application.debug,JSVersion:application.JSVersion,loadScriptFile:function(b,d,e,c,a){window.yzEvalScriptFile=b;Ext.Loader.loadScriptFileNew(b,d,e,c,a);delete window.yzEvalScriptFile},loadScriptFileNew:function(b,l,g,p,a){var k=this,q=this.isFileLoaded,c=this.scriptElements,o=Ext.String.urlAppend(b,"_dc="+((!application.debug&&k.JSCache)?k.JSVersion:(+new Date()))),f=new Date(),n,d,i,m,j;if(q[b]){return this}p=p||this;this.isLoading=true;j=function(){application.js=application.js||[];application.js.push({url:b,begin:f,finish:new Date()});if(l){l.call(p)}};if(!a){m=function(){g.call(p,"Failed loading '"+b+"', please verify that the file exists",a)};if(!Ext.isReady&&Ext.onDocumentReady){Ext.onDocumentReady(function(){if(!q[b]){c[b]=k.injectScriptElement(o,j,m,p)}})}else{c[b]=this.injectScriptElement(o,j,m,p)}}else{if(typeof XMLHttpRequest!="undefined"){n=new XMLHttpRequest()}else{n=new ActiveXObject("Microsoft.XMLHTTP")}try{n.open("GET",o,false);n.send(null)}catch(h){g.call(this,"Failed loading synchronously via XHR: '"+b+"'; It's likely that the file is either being loaded from a different domain or from the local file system whereby cross origin requests are not allowed due to security reasons. Use asynchronous loading with Ext.require instead.",a)}d=(n.status==1223)?204:n.status;i=n.responseText;if((d>=200&&d<300)||d==304||(d==0&&i.length>0)){Ext.globalEval(i+"\n//@ sourceURL="+b);j()}else{g.call(this,"Failed loading synchronously via XHR: '"+b+"'; please verify that the file exists. XHR status code: "+d,a)}n=null}}});YZLoader={documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),init:function(){var a=window.devicePixelRatio||1,b=Math.round(a);if(b>=2){document.documentElement.classList.add("retina");document.documentElement.classList.add("retina"+b);if(b>=4){document.documentElement.classList.add("retinamax")}if(Ext.os.is.iOS){document.documentElement.classList.add("halfpx")}else{document.documentElement.classList.add("ratio");document.documentElement.classList.add("ratio"+b);if(b>=4){document.documentElement.classList.add("ratiomax")}}}if(application.isApp){document.documentElement.classList.add("yz-app")}if(application.isApp&&Ext.os.is.iOS){application.statusbarOverlays=true;document.documentElement.classList.add("yz-statusbar-overlays")}},$url:function(d,b){if(arguments.length==1){return YZLoader.$url("YZSoft$Server",d)}var c=Ext.isString(d)?d:Ext.getClassName(d),f=Ext.Loader.getPath(c),a=f.lastIndexOf("/");var e=a!=-1?f.substring(0,a+1):"";return e+b},loadCss:function(a,f,c,h){var e=this,i=Ext.String.urlAppend(a,"_dc="+((!application.debug&&Ext.Loader.JSCache)?Ext.Loader.JSVersion:(+new Date()))),g=document.createElement("link");var d=function(){e.cleanupListeners(g);f.call(h)};var b=function(){e.cleanupListeners(g);if(c){c.call(h)}};g.type="text/css";g.rel="stylesheet";g.href=i;g.onload=d;g.onerror=b;g.onreadystatechange=function(){if(this.readyState==="loaded"||this.readyState==="complete"){d()}};e.documentHead.appendChild(g);return g},loadScript:function(c,e,g,d){var f=this,b=document.createElement("script");var a=function(){f.cleanupListeners(b);e.call(d)};var h=function(){f.cleanupListeners(b);if(g){g.call(d)}};b.type="text/javascript";b.src=c;b.onload=a;b.onerror=h;b.onreadystatechange=function(){if(this.readyState==="loaded"||this.readyState==="complete"){a()}};f.documentHead.appendChild(b);return b},cleanupListeners:function(b,a){b.onload=null;b.onerror=null;b.onreadystatechange=null},getCookie:function(c){var f=document.cookie.split("; "),a=f.length,e,d,b;for(d=0;d<a;++d){e=f[d].split("=");if(e[0]===c){b=e[1];return b?unescape(b):""}}return null}};YZLoader.Ajax={errMessageFromResponse:function(a){var b=[];b.push($rs.AllHTTPERR);if(a.status){b.push("status:"+(a.status||""))}if(a.statusText){b.push("statusText:"+(a.statusText||""))}if(a.responseText){b.push("responseText:<br/>"+(a.responseText||""))}return b.join("<br/>")},request:function(b){b=b||{};if(b.delay===true){b.delay=500}if(b.waitMsg){if(Ext.isString(b.waitMsg)){b.waitMsg={message:b.waitMsg}}if(b.waitMsg.autoClose!==false){b.waitMsg.autoClose=true}b.waitMsg.xtype=b.waitMsg.xtype||"loadmask";b.waitMsg.target=b.waitMsg.target||Ext.Viewport;b.waitMsg.target.mask(b.waitMsg)}var a={method:"GET",disableCaching:true};Ext.apply(a,b);Ext.apply(a,{scope:a,initConfig:b,beginTime:new Date(),success:function(c){var e=this,d=e.delay?e.delay-Ext.Date.getElapsed(e.beginTime):0;application.ashx=application.ashx||[];application.ashx.push({url:b.url,begin:e.beginTime,finish:new Date()});Ext.defer(function(){var h=this.initConfig;if(h.requestend){h.requestend.call(h.scope||h)}if(h.waitMsg&&h.waitMsg.autoClose){h.waitMsg.target.unmask()}var f;try{f=Ext.decode(c.responseText)}catch(g){alert(g+":\n"+c.responseText)}var i={result:f,config:h,responseText:c.responseText};if(i.result.success===false){if(h.waitMsg&&h.waitMsg.target.getMasked()){h.waitMsg.target.unmask()}if(h.failure){h.failure.call(h.scope||h,i)}}else{if(h.success){h.success.call(h.scope||h,i)}}},d,this)},failure:function(c){var e=this,d=e.delay?e.delay-Ext.Date.getElapsed(e.beginTime):0;Ext.defer(function(){var f=this.initConfig;if(f.requestend){f.requestend.call(f.scope||f)}if(f.waitMsg&&f.waitMsg.target.getMasked()){f.waitMsg.target.unmask()}if(f.exception){f.exception.call(f.scope||f,{config:f,result:{exception:true,httperr:true,errorMessage:YZLoader.Ajax.errMessageFromResponse(c)}})}else{if(f.failure){f.failure.call(f.scope||f,{config:f,result:{exception:true,httperr:true,errorMessage:YZLoader.Ajax.errMessageFromResponse(c)}})}}},d,this)}});Ext.Ajax.request(a)}};YZLoader.Globalization={jsStrings:{en:{AllCancel:"Cancel",AllNo:"No",AllOK:"OK",AllYes:"Yes",AllDelete:"Del",AllHTTPERR:"HTTP Error",Warning:"Warning",YesISee:"OK",placeholderUrl:"Server address",placeholderAccount:"Account",placeholderPassword:"Password",placeholderVCode:"Verify code",txtSendVCode:"Get Code",txtVCodeSendTo:"Verification code sent to: {phoneNumber}",txtTrial:"Trial",txtResendVCode:"Resend ({0})",txtLogin:"Sign In",validateEmptyUrl:"Server address can not be empty",validateEmptyUid:"Account can not be empty",validateEmptyVCode:"Verify code can not be empty",loadingLoginTrialServer:"Loading...",loadingSendVCode:"Sending...",loadingAuth:"Loading...",titleLoginFailed:"Verification Failed",titleSendVCodeFailed:"Failed",msgNoConnection:"The device is not connected to the network!",barcodeScanPrompt:"Align barcode within frame to scan"},"zh-chs":{AllCancel:"取消",AllNo:"否",AllOK:"确定",AllYes:"是",AllDelete:"删除",AllHTTPERR:"HTTP错误",Warning:"提示",YesISee:"我知道了",placeholderUrl:"请输入服务器地址",placeholderAccount:"请输入账号",placeholderPassword:"请输入密码",placeholderVCode:"输入验证码",txtSendVCode:"获取短信验证码",txtVCodeSendTo:"验证码已发送到：{phoneNumber}",txtTrial:"快速体验",txtResendVCode:"重新发送({0})",txtLogin:"登录",validateEmptyUrl:"服务器地址不能为空",validateEmptyUid:"账号不能为空",validateEmptyVCode:"请输入验证码",loadingLoginTrialServer:"连接中...",loadingSendVCode:"正在发送...",loadingAuth:"正在登录...",titleLoginFailed:"登录失败",titleSendVCodeFailed:"发送失败",msgNoConnection:"设备未连接到网络！",barcodeScanPrompt:"请将条码置于取景框内扫描"},"zh-cht":{AllCancel:"取消",AllNo:"否",AllOK:"確定",AllYes:"是",AllDelete:"刪除",AllHTTPERR:"HTTP錯誤",Warning:"提示",YesISee:"我知道了",placeholderUrl:"請輸入伺服器位址",placeholderAccount:"請輸入帳號",placeholderPassword:"請輸入密碼",placeholderVCode:"輸入驗證碼",txtSendVCode:"獲取短信驗證碼",txtVCodeSendTo:"驗證碼已發送到：{phoneNumber}",txtTrial:"快速體驗",txtResendVCode:"重新發送({0})",txtLogin:"登錄",validateEmptyUrl:"伺服器位址不能為空",validateEmptyUid:"帳號不能為空",validateEmptyVCode:"請輸入驗證碼",loadingLoginTrialServer:"連接中...",loadingSendVCode:"正在發送...",loadingAuth:"正在登錄...",titleLoginFailed:"登錄失敗",titleSendVCodeFailed:"發送失敗",msgNoConnection:"設備未連接到網路！",barcodeScanPrompt:"請將條碼置於取景框內掃描"}},langs:{"zh-cn":"zh-chs","zh-hk":"zh-cht","zh-mo":"zh-cht","zh-sg":"zh-cht","zh-tw":"zh-cht"},lcids:{"2052":"zh-chs","1028":"zh-cht","1033":"en"},getLang:function(){var c=YZLoader.Globalization.lang;if(!c){var a;try{a=localStorage.getItem("yz-lcid")}catch(b){}if(a){c=YZLoader.Globalization.lcids[a]||"en"}else{c=(navigator.language||navigator.browserLanguage).toLowerCase()}YZLoader.Globalization.lang=c}return c},loadResource:function(c,a){var b=YZLoader.Globalization;if(c in a){return a[c]}c=b.getParentLang(c);if(!c){return a.en}return b.loadResource(c,a)},getParentLang:function(a){return YZLoader.Globalization.langs[a]}};$rs=YZLoader.Globalization.loadResource(YZLoader.Globalization.getLang(),YZLoader.Globalization.jsStrings);